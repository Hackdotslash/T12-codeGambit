[{"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\index.js":"1","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\App.jsx":"2","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\Signin.jsx":"3","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\context\\AuthContext.jsx":"4","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\Signup.jsx":"5","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\firebase.js":"6"},{"size":198,"mtime":1611995572180,"results":"7","hashOfConfig":"8"},{"size":594,"mtime":1611999063663,"results":"9","hashOfConfig":"8"},{"size":144,"mtime":1612000386422,"results":"10","hashOfConfig":"8"},{"size":2381,"mtime":1612001776231,"results":"11","hashOfConfig":"8"},{"size":6955,"mtime":1612005954634,"results":"12","hashOfConfig":"8"},{"size":565,"mtime":1612005702785,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1skbmx8",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\index.js",[],["28","29"],"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\App.jsx",[],"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\Signin.jsx",[],"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\context\\AuthContext.jsx",["30"],"import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { auth, db } from \"../../firebase\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState();\r\n\r\n    const [loading, setloading] = useState(true);\r\n\r\n    function signup(email, password, name) {\r\n        auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then((cred) => {\r\n                return db.collection(\"users\").doc(cred.user.uid).set({\r\n                    name: name,\r\n                    role: 0,\r\n                });\r\n            })\r\n            .catch(function (err) {\r\n                console.log(\"SIGNIN ERROR\", err);\r\n            });\r\n    }\r\n\r\n    function signin(email, password) {\r\n        return auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(async (cred) => {\r\n                await db\r\n                    .collection(\"users\")\r\n                    .doc(cred.user.uid)\r\n                    .get()\r\n                    .then((doc) => {\r\n                        var role = doc.data().role;\r\n                        if (role === 1) {\r\n                            console.log(\"ADMIN\");\r\n                            return <Redirect to=\"/admin/dashboard\" />;\r\n                        } else {\r\n                            console.log(\"USER\");\r\n                            return <Redirect to=\"/user/dashboard\" />;\r\n                        }\r\n                    });\r\n                /*.catch((err) => {\r\n                    console.error(\"ROLE ERROR\", err);\r\n                  });*/\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"SIGNIN ERROR\", err);\r\n            });\r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut();\r\n    }\r\n    useEffect(() => {\r\n        const unsub = auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user);\r\n            setloading(false);\r\n        });\r\n        return unsub;\r\n    }, []);\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        signin,\r\n        logout,\r\n    };\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n","C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\components\\Signup.jsx",["31"],"C:\\Users\\Rahul\\Documents\\GitHub\\T12-codeGambit\\hotel\\src\\firebase.js",[],{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","severity":1,"message":"37","line":2,"column":20,"nodeType":"38","messageId":"39","endLine":2,"endColumn":24},{"ruleId":"36","severity":1,"message":"40","line":67,"column":10,"nodeType":"38","messageId":"39","endLine":67,"endColumn":15},"no-native-reassign",["41"],"no-negated-in-lhs",["42"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]